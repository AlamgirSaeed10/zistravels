!function(e){e(document).ready(function(){e("body").prepend('<div id="supersized"></div>')}),e.supersized=function(t){function i(){return d.each(function(){var i=e("img",d);return e(i).each(function(){function i(e){e?(thisSlide.width()<n||thisSlide.width()<t.min_width)&&(thisSlide.width()*s>=t.min_height?(thisSlide.width(t.min_width),thisSlide.height(thisSlide.width()*s)):a()):t.min_height>=l&&!t.fit_landscape?n*s>=t.min_height||n*s>=t.min_height&&s<=1?(thisSlide.width(n),thisSlide.height(n*s)):s>1?(thisSlide.height(t.min_height),thisSlide.width(thisSlide.height()/s)):thisSlide.width()<n&&(thisSlide.width(n),thisSlide.height(thisSlide.width()*s)):(thisSlide.width(n),thisSlide.height(n*s))}function a(e){e?thisSlide.height()<l&&(thisSlide.height()/s>=t.min_width?(thisSlide.height(t.min_height),thisSlide.width(thisSlide.height()/s)):i(!0)):t.min_width>=n?l/s>=t.min_width||s>1?(thisSlide.height(l),thisSlide.width(l/s)):s<=1&&(thisSlide.width(t.min_width),thisSlide.height(thisSlide.width()*s)):(thisSlide.height(l),thisSlide.width(l/s))}var s=(e(this).height()/e(this).width()).toFixed(2);thisSlide=e(this);var n=e(window).width(),l=e(window).height();l<=t.min_height&&n<=t.min_width?l/n>s?t.fit_landscape&&s<=1?i(!0):a(!0):t.fit_portrait&&s>1?a(!0):i(!0):n<=t.min_width?l/n>s?t.fit_landscape&&s<=1?i(!0):a():t.fit_portrait&&s>1?a():i(!0):l<=t.min_height?l/n>s?t.fit_landscape&&s<=1?i():a(!0):t.fit_portrait&&s>1?a(!0):i():l/n>s?t.fit_landscape&&s<=1?i():a():t.fit_portrait&&s>1?a():i(),t.horizontal_center&&e(this).css("left",(n-e(this).width())/2),t.vertical_center&&e(this).css("top",(l-e(this).height())/2)}),t.image_protect&&(e("img",d).bind("contextmenu",function(){return!1}),e("img",d).bind("mousedown",function(){return!1})),!1})}function a(){if(o)return!1;o=!0;var i=t.slides,a=d.find(".activeslide");a.removeClass("activeslide"),0==a.length&&(a=d.find("a:last"));var s=a.next().length?a.next():d.find("a:first"),l=s.prev().length?s.prev():d.find("a:last");switch(e(".prevslide").removeClass("prevslide"),l.addClass("prevslide"),u+1==i.length?u=0:u++,1==t.performance&&d.removeClass("quality").addClass("speed"),loadSlide=!1,u==i.length-1?loadSlide=0:loadSlide=u+1,_=t.slides[loadSlide].url?"href='"+t.slides[loadSlide].url+"'":"",e("<img/>").attr("src",t.slides[loadSlide].image).attr("alt",t.slides[loadSlide].title).appendTo(d).wrap("<a "+_+m+"></a>"),1==t.thumbnail_navigation&&(prevThumb=u-1<0?i.length-1:u-1,e("#prevthumb").html(e("<img/>").attr("src",t.slides[prevThumb].image)),nextThumb=loadSlide,e("#nextthumb").html(e("<img/>").attr("src",t.slides[nextThumb].image))),a.prev().remove(),t.slide_counter&&e("#slidecounter .slidenumber").html(u+1),t.slide_captions&&(t.slides[u].title?e("#slidecaption").html(t.slides[u].title):e("#slidecaption").html("")),s.hide().addClass("activeslide"),t.transition){case 0:s.show(),o=!1;break;case 1:s.fadeTo(t.transition_speed,1,function(){n()});break;case 2:s.animate({top:-e(window).height()},0).show().animate({top:0},t.transition_speed,function(){n()});break;case 3:s.animate({left:e(window).width()},0).show().animate({left:0},t.transition_speed,function(){n()});break;case 4:s.animate({top:e(window).height()},0).show().animate({top:0},t.transition_speed,function(){n()});break;case 5:s.animate({left:-e(window).width()},0).show().animate({left:0},t.transition_speed,function(){n()});break;case 6:s.animate({left:e(window).width()},0).show().animate({left:0},t.transition_speed,function(){n()}),a.animate({left:-e(window).width()},t.transition_speed);break;case 7:s.animate({left:-e(window).width()},0).show().animate({left:0},t.transition_speed,function(){n()}),a.animate({left:e(window).width()},t.transition_speed)}}function s(){if(o)return!1;o=!0;var i=t.slides,a=d.find(".activeslide");a.removeClass("activeslide"),0==a.length&&(a=e(d).find("a:first"));var s=a.prev().length?a.prev():e(d).find("a:last"),l=s.next().length?s.next():e(d).find("a:first");switch(e(".prevslide").removeClass("prevslide"),l.addClass("prevslide"),0==u?u=i.length-1:u--,1==t.performance&&d.removeClass("quality").addClass("speed"),loadSlide=!1,loadSlide=u-1<0?i.length-1:u-1,_=t.slides[loadSlide].url?"href='"+t.slides[loadSlide].url+"'":"",e("<img/>").attr("src",t.slides[loadSlide].image).attr("alt",t.slides[loadSlide].title).prependTo(d).wrap("<a "+_+m+"></a>"),1==t.thumbnail_navigation&&(prevThumb=loadSlide,e("#prevthumb").html(e("<img/>").attr("src",t.slides[prevThumb].image)),u==i.length-1?nextThumb=0:nextThumb=u+1,e("#nextthumb").html(e("<img/>").attr("src",t.slides[nextThumb].image))),a.next().remove(),t.slide_counter&&e("#slidecounter .slidenumber").html(u+1),t.slide_captions&&(t.slides[u].title?e("#slidecaption").html(t.slides[u].title):e("#slidecaption").html("")),s.hide().addClass("activeslide"),t.transition){case 0:s.show(),o=!1;break;case 1:s.fadeTo(t.transition_speed,1,function(){n()});break;case 2:s.animate({top:e(window).height()},0).show().animate({top:0},t.transition_speed,function(){n()});break;case 3:s.animate({left:-e(window).width()},0).show().animate({left:0},t.transition_speed,function(){n()});break;case 4:s.animate({top:-e(window).height()},0).show().animate({top:0},t.transition_speed,function(){n()});break;case 5:s.animate({left:e(window).width()},0).show().animate({left:0},t.transition_speed,function(){n()});break;case 6:s.animate({left:-e(window).width()},0).show().animate({left:0},t.transition_speed,function(){n()}),a.animate({left:e(window).width()},t.transition_speed);break;case 7:s.animate({left:e(window).width()},0).show().animate({left:0},t.transition_speed,function(){n()}),a.animate({left:-e(window).width()},t.transition_speed)}}function n(){o=!1,1==t.performance&&d.removeClass("speed").addClass("quality"),i()}var l={slideshow:1,autoplay:1,start_slide:1,random:0,slide_interval:5e3,transition:1,transition_speed:750,new_window:1,pause_hover:0,keyboard_nav:1,performance:1,image_protect:1,image_path:"img/",min_width:0,min_height:0,vertical_center:1,horizontal_center:1,fit_portrait:0,fit_landscape:0,navigation:1,thumbnail_navigation:0,slide_counter:1,slide_captions:1},d=e("#supersized"),r="#pauseplay";if(t)t=e.extend(l,t);else t=e.extend(l);var o=!1,h=!1,c=t.image_path;if(t.start_slide)var u=t.start_slide-1;else u=Math.floor(Math.random()*t.slides.length);var m=t.new_window?' target="_blank"':"";if(3==t.performance?d.addClass("speed"):1!=t.performance&&2!=t.performance||d.addClass("quality"),t.random){arr=t.slides;for(var p,w,v=arr.length;v;p=parseInt(Math.random()*v),w=arr[--v],arr[v]=arr[p],arr[p]=w);t.slides=arr}if(t.slides.length>1){loadPrev=u-1<0?t.slides.length-1:u-1;var _=t.slides[loadPrev].url?"href='"+t.slides[loadPrev].url+"'":"";e("<img/>").attr("src",t.slides[loadPrev].image).appendTo(d).wrap("<a "+_+m+"></a>")}_=t.slides[u].url?"href='"+t.slides[u].url+"'":"",e("<img/>").attr("src",t.slides[u].image).appendTo(d).wrap('<a class="activeslide" '+_+m+"></a>"),t.slides.length>1&&(u==t.slides.length-1?loadNext=0:loadNext=u+1,_=t.slides[loadNext].url?"href='"+t.slides[loadNext].url+"'":"",e("<img/>").attr("src",t.slides[loadNext].image).appendTo(d).wrap("<a "+_+m+"></a>")),d.hide(),e("#controls-wrapper").hide(),e(document).ready(function(){i()}),e(window).load(function(){e("#supersized-loader").hide(),d.fadeIn("fast"),e("#controls-wrapper").show(),t.thumbnail_navigation&&(prevThumb=u-1<0?t.slides.length-1:u-1,e("#prevthumb").show().html(e("<img/>").attr("src",t.slides[prevThumb].image)),u==t.slides.length-1?nextThumb=0:nextThumb=u+1,e("#nextthumb").show().html(e("<img/>").attr("src",t.slides[nextThumb].image))),i(),t.slide_captions&&e("#slidecaption").html(t.slides[u].title),t.navigation||e("#navigation").hide(),t.slideshow&&t.slides.length>1&&(t.slide_counter&&(e("#slidecounter .slidenumber").html(u+1),e("#slidecounter .totalslides").html(t.slides.length)),slideshow_interval=setInterval(a,t.slide_interval),t.autoplay||(clearInterval(slideshow_interval),h=!0,e(r).attr("src")&&e(r).attr("src",c+"play_dull.png")),t.thumbnail_navigation&&(e("#nextthumb").click(function(){return!o&&(clearInterval(slideshow_interval),a(),h||(slideshow_interval=setInterval(a,t.slide_interval)),!1)}),e("#prevthumb").click(function(){return!o&&(clearInterval(slideshow_interval),s(),h||(slideshow_interval=setInterval(a,t.slide_interval)),!1)})),t.navigation&&(e("#navigation a").click(function(){return e(this).blur(),!1}),e("#nextslide").click(function(){return!o&&(clearInterval(slideshow_interval),a(),h||(slideshow_interval=setInterval(a,t.slide_interval)),!1)}),e("#nextslide").attr("src")&&(e("#nextslide").mousedown(function(){e(this).attr("src",c+"forward.png")}),e("#nextslide").mouseup(function(){e(this).attr("src",c+"forward_dull.png")}),e("#nextslide").mouseout(function(){e(this).attr("src",c+"forward_dull.png")})),e("#prevslide").click(function(){return!o&&(clearInterval(slideshow_interval),s(),h||(slideshow_interval=setInterval(a,t.slide_interval)),!1)}),e("#prevslide").attr("src")&&(e("#prevslide").mousedown(function(){e(this).attr("src",c+"back.png")}),e("#prevslide").mouseup(function(){e(this).attr("src",c+"back_dull.png")}),e("#prevslide").mouseout(function(){e(this).attr("src",c+"back_dull.png")})),e(r).click(function(){return!o&&(h?(e(r).attr("src")&&e(r).attr("src",c+"pause_dull.png"),h=!1,slideshow_interval=setInterval(a,t.slide_interval)):(e(r).attr("src")&&e(r).attr("src",c+"play_dull.png"),clearInterval(slideshow_interval),h=!0),!1)})))}),t.keyboard_nav&&(e(document.documentElement).keydown(function(t){37==t.keyCode||40==t.keyCode?e("#prevslide").attr("src")&&e("#prevslide").attr("src",c+"back.png"):39!=t.keyCode&&38!=t.keyCode||e("#nextslide").attr("src")&&e("#nextslide").attr("src",c+"forward.png")}),e(document.documentElement).keyup(function(i){return clearInterval(slideshow_interval),37==i.keyCode||40==i.keyCode?(e("#prevslide").attr("src")&&e("#prevslide").attr("src",c+"back_dull.png"),!o&&(clearInterval(slideshow_interval),s(),h||(slideshow_interval=setInterval(a,t.slide_interval)),!1)):39==i.keyCode||38==i.keyCode?(e("#nextslide").attr("src")&&e("#nextslide").attr("src",c+"forward_dull.png"),!o&&(clearInterval(slideshow_interval),a(),h||(slideshow_interval=setInterval(a,t.slide_interval)),!1)):32==i.keyCode?!o&&(h?(e(r).attr("src")&&e(r).attr("src",c+"pause_dull.png"),h=!1,slideshow_interval=setInterval(a,t.slide_interval)):(e(r).attr("src")&&e(r).attr("src",c+"play_dull.png"),h=!0),!1):void 0})),t.slideshow&&t.pause_hover&&e(d).hover(function(){return!o&&void(!h&&t.navigation&&(e(r).attr("src")&&e(r).attr("src",c+"pause.png"),clearInterval(slideshow_interval)))},function(){!h&&t.navigation&&(e(r).attr("src")&&e(r).attr("src",c+"pause_dull.png"),slideshow_interval=setInterval(a,t.slide_interval))}),e(window).resize(function(){i()})}}(jQuery);